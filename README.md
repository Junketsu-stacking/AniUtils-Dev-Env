# DevEnv для тестирования сервисов сайта AniUtils
## Обзор
Репозиторий предназначен для локального тестирования и разработки сервисов веб-приложения. Позволяет запускать компоненты как вместе, так и по отдельности, с возможностью подмены зависимостей тестовыми заглушками.

## Необходимые компоненты
Перед началом работы убедитесь, что у вас установлены:

* Docker
* Make (3.82 и выше)
* Npm (10.9.2 и выше)

## Быстрый старт
Клонируйте репозиторий:

```bash
git clone https://github.com/Junketsu-stacking/AniUtils-Dev-Env.git
```
Перейдите в директорию проекта:

```bash
cd AniUtils-Dev-Env
```

Установите необходимые вам сервисы в папку services

```bash
git clone ваш-сервис services
```

Запустите все установленные сервисы:

```bash
make up
```

Для остановки:

```bash
make down
```

Вы также можете запускать установленные сервисы по отдельности:

```bash
make up ваш-сервис
```

Для ознакомления с другими командами используйте:

```bash
make help
```

## Тестирование
Для тестирования отдельных компонентов используется JSON-server, который эмулирует работу сторонних сервисов сайта.

Запустите mock-сервер:

```bash
make up mock-server
```

Настройте ваш сервис на работу с mock-сервером

`По умолчанию сервер уже настроен на все имеющиеся в проекте сервисы. Если вы хотите добавить собстенный сервис, то для добавления новых mock-данных отредактируйте файл: services/mock-server/data.json`

Для тестирования API - обращайтесь к:

```text
GET http://localhost:3000/users
POST http://localhost:3000/products
```

В коде приложения замените реальный URL на:

```javascript
const API_URL = process.env.MOCK_MODE 
  ? 'http://localhost:3000' 
  : 'https://real-service.com/api';
```